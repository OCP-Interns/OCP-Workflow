{% extends 'base.html' %}

{% block title %}Edit Employee - {{ employee.last_name }}{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/edit.css') }}">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="links">
	<a href="#" onclick="showEditForm()">Edit Details</a>
	/
	<a href="#" onclick="showTimetable()">Edit Timetable</a>
</div>
<form action="{{ url_for('edit_employee.edit_employee', cin=employee.cin) }}" method="POST" id="edit-form"
	enctype="multipart/form-data">
	<h2>Edit Employee</h2>
	<div class="form-group">
		<label for="cin">CID</label>
		<input type="text" id="cin" name="cin" value="{{ employee.cin }}" readonly>
	</div>
	<div class="form-group">
		<label for="last_name">Last Name</label>
		<input type="text" id="last_name" name="last_name" value="{{ employee.last_name }}">
	</div>
	<div class="form-group">
		<label for="first_name">First Name</label>
		<input type="text" id="first_name" name="first_name" value="{{ employee.first_name }}">
	</div>
	<div class="form-group">
		<label for="function">Fonction</label>
		<input type="text" id="function" name="function" value="{{ employee.fonction }}">
	</div>
	<div class="form-group">
		<label for="email">Email</label>
		<input type="email" id="email" name="email" value="{{ employee.email }}">
	</div>
	<div class="form-group">
		<label for="phone">Phone</label>
		<input type="text" id="phone" name="phone" value="{{ employee.phone }}">
	</div>
	<div class="form-group">
		<label for="type">Type</label>
		<input type="text" id="type" name="type" value="{{ employee.emp_type }}">
	</div>
	<div class="form-group">
		<label for="photo">Photo</label>
		<div class="photo-preview">
			<img src="{{ cloudinary_url(employee.photo)[0] }}" alt="Employee Photo">
		</div>
		<input type="file" id="photo" name="photo">
	</div>
	<button type="submit" class="submit-btn">Submit</button>
</form>
<div class="table-container" id="timetable-container" style="display: none;">
	<h2>Time Table</h2>
	<button class="add-btn" id="add-btn">Add</button>
	<table id="timetable">
		<thead>
			<tr>
				<th class="day">Day</th>
				<th>00:00 - 01:00</th>
				<th>01:00 - 02:00</th>
				<th>02:00 - 03:00</th>
				<th>03:00 - 04:00</th>
				<th>04:00 - 05:00</th>
				<th>05:00 - 06:00</th>
				<th>06:00 - 07:00</th>
				<th>07:00 - 08:00</th>
				<th>08:00 - 09:00</th>
				<th>09:00 - 10:00</th>
				<th>10:00 - 11:00</th>
				<th>11:00 - 12:00</th>
				<th>12:00 - 13:00</th>
				<th>13:00 - 14:00</th>
				<th>14:00 - 15:00</th>
				<th>15:00 - 16:00</th>
				<th>16:00 - 17:00</th>
				<th>17:00 - 18:00</th>
				<th>18:00 - 19:00</th>
				<th>19:00 - 20:00</th>
				<th>20:00 - 21:00</th>
				<th>21:00 - 22:00</th>
				<th>22:00 - 23:00</th>
				<th>23:00 - 00:00</th>
			</tr>
		</thead>
		<tbody>
			<tr class="day monday">
				<td class="day">Monday</td>
				<td class="monday-00"></td>
				<td class="monday-01"></td>
				<td class="monday-02"></td>
				<td class="monday-03"></td>
				<td class="monday-04"></td>
				<td class="monday-05"></td>
				<td class="monday-06"></td>
				<td class="monday-07"></td>
				<td class="monday-08"></td>
				<td class="monday-09"></td>
				<td class="monday-10"></td>
				<td class="monday-11"></td>
				<td class="monday-12"></td>
				<td class="monday-13"></td>
				<td class="monday-14"></td>
				<td class="monday-15"></td>
				<td class="monday-16"></td>
				<td class="monday-17"></td>
				<td class="monday-18"></td>
				<td class="monday-19"></td>
				<td class="monday-20"></td>
				<td class="monday-21"></td>
				<td class="monday-22"></td>
				<td class="monday-23"></td>
			</tr>
			<tr class="day tuesday">
				<td class="day">Tuesday</td>
				<td class="tuesday-00"></td>
				<td class="tuesday-01"></td>
				<td class="tuesday-02"></td>
				<td class="tuesday-03"></td>
				<td class="tuesday-04"></td>
				<td class="tuesday-05"></td>
				<td class="tuesday-06"></td>
				<td class="tuesday-07"></td>
				<td class="tuesday-08"></td>
				<td class="tuesday-09"></td>
				<td class="tuesday-10"></td>
				<td class="tuesday-11"></td>
				<td class="tuesday-12"></td>
				<td class="tuesday-13"></td>
				<td class="tuesday-14"></td>
				<td class="tuesday-15"></td>
				<td class="tuesday-16"></td>
				<td class="tuesday-17"></td>
				<td class="tuesday-18"></td>
				<td class="tuesday-19"></td>
				<td class="tuesday-20"></td>
				<td class="tuesday-21"></td>
				<td class="tuesday-22"></td>
				<td class="tuesday-23"></td>
			</tr>
			<tr class="day wednesday">
				<td class="day">Wednesday</td>
				<td class="wednesday-00"></td>
				<td class="wednesday-01"></td>
				<td class="wednesday-02"></td>
				<td class="wednesday-03"></td>
				<td class="wednesday-04"></td>
				<td class="wednesday-05"></td>
				<td class="wednesday-06"></td>
				<td class="wednesday-07"></td>
				<td class="wednesday-08"></td>
				<td class="wednesday-09"></td>
				<td class="wednesday-10"></td>
				<td class="wednesday-11"></td>
				<td class="wednesday-12"></td>
				<td class="wednesday-13"></td>
				<td class="wednesday-14"></td>
				<td class="wednesday-15"></td>
				<td class="wednesday-16"></td>
				<td class="wednesday-17"></td>
				<td class="wednesday-18"></td>
				<td class="wednesday-19"></td>
				<td class="wednesday-20"></td>
				<td class="wednesday-21"></td>
				<td class="wednesday-22"></td>
				<td class="wednesday-23"></td>
			</tr>
			<tr class="day thursday">
				<td class="day">Thursday</td>
				<td class="thursday-00"></td>
				<td class="thursday-01"></td>
				<td class="thursday-02"></td>
				<td class="thursday-03"></td>
				<td class="thursday-04"></td>
				<td class="thursday-05"></td>
				<td class="thursday-06"></td>
				<td class="thursday-07"></td>
				<td class="thursday-08"></td>
				<td class="thursday-09"></td>
				<td class="thursday-10"></td>
				<td class="thursday-11"></td>
				<td class="thursday-12"></td>
				<td class="thursday-13"></td>
				<td class="thursday-14"></td>
				<td class="thursday-15"></td>
				<td class="thursday-16"></td>
				<td class="thursday-17"></td>
				<td class="thursday-18"></td>
				<td class="thursday-19"></td>
				<td class="thursday-20"></td>
				<td class="thursday-21"></td>
				<td class="thursday-22"></td>
				<td class="thursday-23"></td>
			</tr>
			<tr class="day friday">
				<td class="day">Friday</td>
				<td class="friday-00"></td>
				<td class="friday-01"></td>
				<td class="friday-02"></td>
				<td class="friday-03"></td>
				<td class="friday-04"></td>
				<td class="friday-05"></td>
				<td class="friday-06"></td>
				<td class="friday-07"></td>
				<td class="friday-08"></td>
				<td class="friday-09"></td>
				<td class="friday-10"></td>
				<td class="friday-11"></td>
				<td class="friday-12"></td>
				<td class="friday-13"></td>
				<td class="friday-14"></td>
				<td class="friday-15"></td>
				<td class="friday-16"></td>
				<td class="friday-17"></td>
				<td class="friday-18"></td>
				<td class="friday-19"></td>
				<td class="friday-20"></td>
				<td class="friday-21"></td>
				<td class="friday-22"></td>
				<td class="friday-23"></td>
			</tr>
			<tr class="day saturday">
				<td class="day">Saturday</td>
				<td class="saturday-00"></td>
				<td class="saturday-01"></td>
				<td class="saturday-02"></td>
				<td class="saturday-03"></td>
				<td class="saturday-04"></td>
				<td class="saturday-05"></td>
				<td class="saturday-06"></td>
				<td class="saturday-07"></td>
				<td class="saturday-08"></td>
				<td class="saturday-09"></td>
				<td class="saturday-10"></td>
				<td class="saturday-11"></td>
				<td class="saturday-12"></td>
				<td class="saturday-13"></td>
				<td class="saturday-14"></td>
				<td class="saturday-15"></td>
				<td class="saturday-16"></td>
				<td class="saturday-17"></td>
				<td class="saturday-18"></td>
				<td class="saturday-19"></td>
				<td class="saturday-20"></td>
				<td class="saturday-21"></td>
				<td class="saturday-22"></td>
				<td class="saturday-23"></td>
			</tr>
			<tr class="day sunday">
				<td class="day">Sunday</td>
				<td class="sunday-00"></td>
				<td class="sunday-01"></td>
				<td class="sunday-02"></td>
				<td class="sunday-03"></td>
				<td class="sunday-04"></td>
				<td class="sunday-05"></td>
				<td class="sunday-06"></td>
				<td class="sunday-07"></td>
				<td class="sunday-08"></td>
				<td class="sunday-09"></td>
				<td class="sunday-10"></td>
				<td class="sunday-11"></td>
				<td class="sunday-12"></td>
				<td class="sunday-13"></td>
				<td class="sunday-14"></td>
				<td class="sunday-15"></td>
				<td class="sunday-16"></td>
				<td class="sunday-17"></td>
				<td class="sunday-18"></td>
				<td class="sunday-19"></td>
				<td class="sunday-20"></td>
				<td class="sunday-21"></td>
				<td class="sunday-22"></td>
				<td class="sunday-23"></td>
			</tr>
		</tbody>
	</table>
</div>
{% endblock content %}

{% block scripts %}
<script>
	function showEditForm() {
		document.getElementById("timetable-container").style.display = "none";
		document.getElementById("edit-form").style.display = "block";
	}

	function showTimetable() {
		document.getElementById("timetable-container").style.display = "block";
		document.getElementById("edit-form").style.display = "none";
	}

	// <!--! Will later be replaced-->
	// Add time header, add time cells to the timetable, ana add day cells to the timetable
	const timeHeader = document.querySelector("#timetable thead tr");
	for (let i = 0; i < 24; i++) {
		const th = document.createElement("th");
		th.textContent = `${i < 10 ? "0" + i : i}:00 - ${i + 1 < 10 ? "0" + (i + 1) : i + 1}:00`;
		timeHeader.appendChild(th);
	}

	const days = ["monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sunday"];
	const TimeTableBody = document.querySelector("#timetable tbody");

</script>
{% endblock %}