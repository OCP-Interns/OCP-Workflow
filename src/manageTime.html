<html>
    <head>
        <title>TimeTable</title>
        <link rel="stylesheet" type="text/css" href="./css/manageTime.css">
    </head>
    <body>
        <div class="container">
            <button class="close" onclick="sendAction('close')"></button>
            <button class="reduit" onclick="sendAction('reduit')"></button>
            <button class="maximized" onclick="sendAction('maximized')"></button>
        </div>
        <div class="header">
            <h5>ADMIN</h5>
            <input class="search" type="search" name="search" id="search" placeholder="Search here...">
            <img class="glass" src="../assets/img/glass.png" alt="glass">
            <div class="user">
                <h3>MORFI MAROUANE</h3>
                <img class="userPic" src="../assets/mrf.jpg" alt="ss">
            </div>
        </div>
        <div class="menu">
            <div class="headerMenu">
                <img class="icon" src="../assets/img/ocpIcon.png" alt="ocp">
                <p>OCP</p> 
                <button class="hideBtn"><img src="../assets/img/menu.png" alt="menu"></button>
            </div>
            <hr>
            <div class="btnHead">
               <form action="dashboard.html"><button class="btnDash">
                    <img class="dashIcon" src="../assets/img/dashboard.png" alt="d">
                    <h6>DashBoard</h6>
                </button></form>
                <button class="btnEmp">
                    <img class="empIcon" src="../assets/img/emp.png" alt="e">
                    <h6>Employee Manage</h6>
                </button>
                <button class="btnEvent">
                    <img class="EventIcon" src="../assets/img/networking.png" alt="p">
                    <h6>Event Manage</h6>
                </button>
            </div>
            <div class="btnFooter">
                <button class="btnProfile">
                    <img class="profilIcon" src="../assets/img/user.png" alt="u">
                    <h6>Profile</h6>
                </button>
                <button class="btnOut">
                    <img class="OutIcon" src="../assets/img/exit.png" alt="d">
                    <h6>LogOut</h6>
                </button>
            </div>
        </div>

        <div class="body">
            <form action="javascript:void(0);"><button class="add" onclick="changeBodyContent()">Add</button></form>
            <div class="table-container">
                <form action="http://localhost:5000/SelectTable" method="GET"><table>
                    <thead>
                        <tr>
                            <th class="day">Day</th>
                            <th class="time">00:01</th>
                            <th class="time">01:02</th>
                            <th class="time">02:03</th>
                            <th class="time">03:04</th>
                            <th class="time">04:05</th>
                            <th class="time">05:06</th>
                            <th class="time">06:07</th>
                            <th class="time">07:08</th>
                            <th class="time">08:09</th>
                            <th class="time">09:10</th>
                            <th class="time">10:11</th>
                            <th class="time">11:12</th>
                            <th class="time">12:13</th>
                            <th class="time">13:14</th>
                            <th class="time">14:15</th>
                            <th class="time">15:16</th>
                            <th class="time">16:17</th>
                            <th class="time">17:18</th>
                            <th class="time">18:19</th>
                            <th class="time">19:20</th>
                            <th class="time">20:21</th>
                            <th class="time">21:22</th>
                            <th class="time">22:23</th>
                            <th class="time">23:00</th>
                        </tr>
                    </thead>
                    <tbody id="TimeTableBody">
                        <tr class="day-Monday">
                            <td class="day">Monday</td>
                            <td class="time" id="monday-00:01"></td>
                            <td class="time" id="monday-01:02"></td>
                            <td class="time" id="monday-02:03"></td>
                            <td class="time" id="monday-03:04"></td>
                            <td class="time" id="monday-04:05"></td>
                            <td class="time" id="monday-05:06"></td>
                            <td class="time" id="monday-06:07"></td>
                            <td class="time" id="monday-07:08"></td>
                            <td class="time" id="monday-08:09"></td>
                            <td class="time" id="monday-09:10"></td>
                            <td class="time" id="monday-10:11"></td>
                            <td class="time" id="monday-11:12"></td>
                            <td class="time" id="monday-12:13"></td>
                            <td class="time" id="monday-13:14"></td>
                            <td class="time" id="monday-14:15"></td>
                            <td class="time" id="monday-15:16"></td>
                            <td class="time" id="monday-16:17"></td>
                            <td class="time" id="monday-17:18"></td>
                            <td class="time" id="monday-18:19"></td>
                            <td class="time" id="monday-19:20"></td>
                            <td class="time" id="monday-20:21"></td>
                            <td class="time" id="monday-21:22"></td>
                            <td class="time" id="monday-22:23"></td>
                            <td class="time" id="monday-23:00"></td>
                        </tr>
                        <tr class="day-Tuesday">
                            <td class="day">Tuesday</td>
                            <td class="time" id="Tuesday-00:01"></td>
                            <td class="time" id="Tuesday-01:02"></td>
                            <td class="time" id="Tuesday-02:03"></td>
                            <td class="time" id="Tuesday-03:04"></td>
                            <td class="time" id="Tuesday-04:05"></td>
                            <td class="time" id="Tuesday-05:06"></td>
                            <td class="time" id="Tuesday-06:07"></td>
                            <td class="time" id="Tuesday-07:08"></td>
                            <td class="time" id="Tuesday-08:09"></td>
                            <td class="time" id="Tuesday-09:10"></td>
                            <td class="time" id="Tuesday-10:11"></td>
                            <td class="time" id="Tuesday-11:12"></td>
                            <td class="time" id="Tuesday-12:13"></td>
                            <td class="time" id="Tuesday-13:14"></td>
                            <td class="time" id="Tuesday-14:15"></td>
                            <td class="time" id="Tuesday-15:16"></td>
                            <td class="time" id="Tuesday-16:17"></td>
                            <td class="time" id="Tuesday-17:18"></td>
                            <td class="time" id="Tuesday-18:19"></td>
                            <td class="time" id="Tuesday-19:20"></td>
                            <td class="time" id="Tuesday-20:21"></td>
                            <td class="time" id="Tuesday-21:22"></td>
                            <td class="time" id="Tuesday-22:23"></td>
                            <td class="time" id="Tuesday-23:00"></td>
                        </tr>
                        <tr class="day-wednesday">
                            <td class="day">Wednesday</td>
                            <td class="time" id="Wednesday-00:01"></td>
                            <td class="time" id="Wednesday-01:02"></td>
                            <td class="time" id="Wednesday-02:03"></td>
                            <td class="time" id="Wednesday-03:04"></td>
                            <td class="time" id="Wednesday-04:05"></td>
                            <td class="time" id="Wednesday-05:06"></td>
                            <td class="time" id="Wednesday-06:07"></td>
                            <td class="time" id="Wednesday-07:08"></td>
                            <td class="time" id="Wednesday-08:09"></td>
                            <td class="time" id="Wednesday-09:10"></td>
                            <td class="time" id="Wednesday-10:11"></td>
                            <td class="time" id="Wednesday-11:12"></td>
                            <td class="time" id="Wednesday-12:13"></td>
                            <td class="time" id="Wednesday-13:14"></td>
                            <td class="time" id="Wednesday-14:15"></td>
                            <td class="time" id="Wednesday-15:16"></td>
                            <td class="time" id="Wednesday-16:17"></td>
                            <td class="time" id="Wednesday-17:18"></td>
                            <td class="time" id="Wednesday-18:19"></td>
                            <td class="time" id="Wednesday-19:20"></td>
                            <td class="time" id="Wednesday-20:21"></td>
                            <td class="time" id="Wednesday-21:22"></td>
                            <td class="time" id="Wednesday-22:23"></td>
                            <td class="time" id="Wednesday-23:00"></td>
                        </tr>
                        <tr class="day-Thursday">
                            <td class="day">Thursday</td>
                            <td class="time" id="Thursday-00:01"></td>
                            <td class="time" id="Thursday-01:02"></td>
                            <td class="time" id="Thursday-02:03"></td>
                            <td class="time" id="Thursday-03:04"></td>
                            <td class="time" id="Thursday-04:05"></td>
                            <td class="time" id="Thursday-05:06"></td>
                            <td class="time" id="Thursday-06:07"></td>
                            <td class="time" id="Thursday-07:08"></td>
                            <td class="time" id="Thursday-08:09"></td>
                            <td class="time" id="Thursday-09:10"></td>
                            <td class="time" id="Thursday-10:11"></td>
                            <td class="time" id="Thursday-11:12"></td>
                            <td class="time" id="Thursday-12:13"></td>
                            <td class="time" id="Thursday-13:14"></td>
                            <td class="time" id="Thursday-14:15"></td>
                            <td class="time" id="Thursday-15:16"></td>
                            <td class="time" id="Thursday-16:17"></td>
                            <td class="time" id="Thursday-17:18"></td>
                            <td class="time" id="Thursday-18:19"></td>
                            <td class="time" id="Thursday-19:20"></td>
                            <td class="time" id="Thursday-20:21"></td>
                            <td class="time" id="Thursday-21:22"></td>
                            <td class="time" id="Thursday-22:23"></td>
                            <td class="time" id="Thursday-23:00"></td>
                        </tr>
                        <tr class="day-Friday">
                            <td class="day">Friday</td>
                            <td class="time" id="Friday-00:01"></td>
                            <td class="time" id="Friday-01:02"></td>
                            <td class="time" id="Friday-02:03"></td>
                            <td class="time" id="Friday-03:04"></td>
                            <td class="time" id="Friday-04:05"></td>
                            <td class="time" id="Friday-05:06"></td>
                            <td class="time" id="Friday-06:07"></td>
                            <td class="time" id="Friday-07:08"></td>
                            <td class="time" id="Friday-08:09"></td>
                            <td class="time" id="Friday-09:10"></td>
                            <td class="time" id="Friday-10:11"></td>
                            <td class="time" id="Friday-11:12"></td>
                            <td class="time" id="Friday-12:13"></td>
                            <td class="time" id="Friday-13:14"></td>
                            <td class="time" id="Friday-14:15"></td>
                            <td class="time" id="Friday-15:16"></td>
                            <td class="time" id="Friday-16:17"></td>
                            <td class="time" id="Friday-17:18"></td>
                            <td class="time" id="Friday-18:19"></td>
                            <td class="time" id="Friday-19:20"></td>
                            <td class="time" id="Friday-20:21"></td>
                            <td class="time" id="Friday-21:22"></td>
                            <td class="time" id="Friday-22:23"></td>
                            <td class="time" id="Friday-23:00"></td>                        </tr>
                        <tr class="day-Saturday">
                            <td class="day">Saturday</td>
                            <td class="time" id="Saturday-00:01"></td>
                            <td class="time" id="Saturday-01:02"></td>
                            <td class="time" id="Saturday-02:03"></td>
                            <td class="time" id="Saturday-03:04"></td>
                            <td class="time" id="Saturday-04:05"></td>
                            <td class="time" id="Saturday-05:06"></td>
                            <td class="time" id="Saturday-06:07"></td>
                            <td class="time" id="Saturday-07:08"></td>
                            <td class="time" id="Saturday-08:09"></td>
                            <td class="time" id="Saturday-09:10"></td>
                            <td class="time" id="Saturday-10:11"></td>
                            <td class="time" id="Saturday-11:12"></td>
                            <td class="time" id="Saturday-12:13"></td>
                            <td class="time" id="Saturday-13:14"></td>
                            <td class="time" id="Saturday-14:15"></td>
                            <td class="time" id="Saturday-15:16"></td>
                            <td class="time" id="Saturday-16:17"></td>
                            <td class="time" id="Saturday-17:18"></td>
                            <td class="time" id="Saturday-18:19"></td>
                            <td class="time" id="Saturday-19:20"></td>
                            <td class="time" id="Saturday-20:21"></td>
                            <td class="time" id="Saturday-21:22"></td>
                            <td class="time" id="Saturday-22:23"></td>
                            <td class="time" id="Saturday-23:00"></td>                         </tr>
                        <tr class="day-Sunday">
                            <td class="day">Sunday</td>
                            <td class="time" id="Sunday-00:01"></td>
                            <td class="time" id="Sunday-01:02"></td>
                            <td class="time" id="Sunday-02:03"></td>
                            <td class="time" id="Sunday-03:04"></td>
                            <td class="time" id="Sunday-04:05"></td>
                            <td class="time" id="Sunday-05:06"></td>
                            <td class="time" id="Sunday-06:07"></td>
                            <td class="time" id="Sunday-07:08"></td>
                            <td class="time" id="Sunday-08:09"></td>
                            <td class="time" id="Sunday-09:10"></td>
                            <td class="time" id="Sunday-10:11"></td>
                            <td class="time" id="Sunday-11:12"></td>
                            <td class="time" id="Sunday-12:13"></td>
                            <td class="time" id="Sunday-13:14"></td>
                            <td class="time" id="Sunday-14:15"></td>
                            <td class="time" id="Sunday-15:16"></td>
                            <td class="time" id="Sunday-16:17"></td>
                            <td class="time" id="Sunday-17:18"></td>
                            <td class="time" id="Sunday-18:19"></td>
                            <td class="time" id="Sunday-19:20"></td>
                            <td class="time" id="Sunday-20:21"></td>
                            <td class="time" id="Sunday-21:22"></td>
                            <td class="time" id="Sunday-22:23"></td>
                            <td class="time" id="Sunday-23:00"></td>                         </tr>
                    </tbody>
                </table></form>
                <a href="#"> Show More!</a>
        </div>
        
        <template id="card-template">
            <div class="card" id="add">
                <button class="back" onclick="restoreOriginalContent()"></button>
                <h2>Add Time Work</h2>
                <form id="timeWorkForm" action="http://localhost:5000/addTime" method="POST">
                    <label for="day">Select the Day:</label>
                    <select id="day" name="day">
                        <option value="Monday">Monday</option>
                        <option value="Tuesday">Tuesday</option>
                        <option value="Wednesday">Wednesday</option>
                        <option value="Thursday">Thursday</option>
                        <option value="Friday">Friday</option>
                        <option value="Saturday">Saturday</option>
                        <option value="Sunday">Sunday</option>
                    </select>
                    <br><br>
                    <label for="from">From:</label>
                    <select class="from" id="from" name="from"></select>
                    <br><br>
                    <label for="to">To:</label>
                    <select class="to" id="to" name="to"></select>
                    <br><br>
                    <input class="addbtn" type="submit" value="ADD">                    
                </form>
            </div>
        </template>
        <script src="add.js">
            document.addEventListener('DOMContentLoaded', (event) => {
                fetch('/selectTable')
                .then(response => response.json())
                .then(data => {
                    displaySchedule(data);
                })
                .catch(error => console.error('Error: ', error));
            });

            function displaySchedule(data) {
                data.forEach(item => {
                    const day = item.day;
                    const from_time = item.from;
                    const to_time = item.to;
                    const from_cell = document.getElementById(`${day}-${from_time}`)
                    const to_cell = document.getElementById(`${day}-${to_time}`);
                    
                    if (from_cell) {
                        from_cell.style.backgroundColor = 'black';
                        from_cell.textContent = `From ${from_time}`;
                    }

                    if (to_cell) {
                        to_cell.style.backgroundColor = 'black';
                        to_cell.textContent = `To ${to_time}`;
                    }
                });
            }
        </script>
    </body>
</html>